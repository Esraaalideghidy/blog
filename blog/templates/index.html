{% extends "base.html" %} {% load static %} {% block content %}
<a href="{% url 'add_blog' %}"
  ><button type="button" class="btn btn-primary">Add Blog</button></a
>
<div class="row tm-row">
  {% for blog in blog_view %}
  <article class="col-12 col-md-6 tm-post">
    <hr class="tm-hr-primary" />
    <a
      href="{{ blog.get_absolute_url }}"
      class="effect-lily tm-post-link tm-pt-60"
    >
      <div class="tm-post-link-inner">
        <img src="{{ blog.img.url }}" alt="Image" class="img-fluid" />
      </div>
      {% if forloop.counter == 1 or forloop.counter == 2 %}
      <span class="position-absolute tm-new-badge">New</span>
      {% endif %}
      <h2 class="tm-pt-30 tm-color-primary tm-post-title">
        {{ blog.title|title }}
      </h2>
    </a>
    <p class="tm-pt-30">{{ blog.content }}</p>
    <div class="d-flex justify-content-between tm-pt-45">
      <span class="tm-color-primary">Travel . Events</span>
      <span class="tm-color-primary">{{ blog.date|date:'M d, y' }}</span>
    </div>
    <hr />
    <div class="d-flex justify-content-between">
      {% if blog.comment_count.count == 0 %}
      <span> No Comments </span>
      {% else %}
      <span>{{ blog.comment_count.count }} comment</span>
      {% endif %}
      <span>by {{ blog.author|title }}</span>
    </div>
  </article>
  {% endfor %}
</div>
<!-- Pagination -->
{% if blog_view.has_other_pages %}
<div class="row tm-row tm-mt-100 tm-mb-75">
  <div class="tm-prev-next-wrapper">
    {% if blog_view.has_previous %}
    <a
      href="?page={{ blog_view.previous_page_number }}"
      class="mb-2 tm-btn tm-btn-primary tm-prev-next tm-mr-20"
      >Prev</a
    >
    {% else %}
    <a
      href="#"
      class="mb-2 tm-btn tm-btn-primary tm-prev-next disabled tm-mr-20"
      >Prev</a
    >
    {% endif %} {% if blog_view.has_next %}
    <a
      href="?page={{ blog_view.next_page_number }}"
      class="mb-2 tm-btn tm-btn-primary tm-prev-next"
      >Next</a
    >
    {% else %}
    <a href="#" class="mb-2 tm-btn tm-btn-primary tm-prev-next disabled"
      >Next</a
    >
    {% endif %}
  </div>
  <div class="tm-paging-wrapper">
    <span class="d-inline-block mr-3">Page</span>
    {% for p in blog_view.paginator.page_range %}
    <nav class="tm-paging-nav d-inline-block">
      <ul>
        {% if blog_view.number == p %}
        <li class="tm-paging-item active" style="padding:5px;">
          <a href="" class="mb-2 tm-btn tm-paging-link">{{p}}</a>
        </li>
        {% else %}
        <li class="tm-paging-item" style="padding:5px;">
          <a href="?page={{p}}" class="mb-2 tm-btn tm-paging-link">{{p}}</a>
        </li>
        {% endif %} 
      </ul>
    </nav>
    {% endfor %}
  </div>
</div>
{% endif %} {% endblock content %}
